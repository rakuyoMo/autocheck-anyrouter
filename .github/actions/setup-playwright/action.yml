name: 'é…ç½® Playwright ç¯å¢ƒ'
description: 'è·å– Playwright ç‰ˆæœ¬ã€ç¼“å­˜å¹¶å®‰è£…æµè§ˆå™¨'

outputs:
  version:
    description: 'Playwright ç‰ˆæœ¬'
    value: ${{ steps.playwright-version.outputs.version }}

runs:
  using: 'composite'
  steps:
    - name: ğŸ” è·å– Playwright ç‰ˆæœ¬
      id: playwright-version
      shell: bash
      run: |
        version=$(mise run playwright-version)
        echo "version=$version" >> $GITHUB_OUTPUT

    - name: ğŸ­ ç¼“å­˜ Playwright æµè§ˆå™¨
      uses: actions/cache@v4
      id: playwright-cache
      with:
        path: ~/.cache/ms-playwright
        key: ${{ runner.os }}-playwright-${{ steps.playwright-version.outputs.version }}

    - name: ğŸŒ å®‰è£… Playwright æµè§ˆå™¨
      if: steps.playwright-cache.outputs.cache-hit != 'true'
      shell: bash
      run: mise run install-browsers
